"use strict";(self.webpackChunkkasa=self.webpackChunkkasa||[]).push([[490],{490:(e,s,a)=>{a.r(s),a.d(s,{default:()=>l});var n=a(43),t=a(216),r=a(475),o=a(367),i=a(187),c=a(579);const l=()=>{const[e,s]=(0,n.useState)(""),[a,l]=(0,n.useState)(""),[d,m]=(0,n.useState)(""),{login:u}=(0,i.A)(),h=(0,t.Zp)();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(o.mg,{children:[(0,c.jsx)("title",{children:"Connexion - Kasa"}),(0,c.jsx)("meta",{name:"description",content:"Connectez-vous \xe0 votre compte Kasa pour acc\xe9der \xe0 vos r\xe9servations et g\xe9rer votre profil."})]}),(0,c.jsx)("main",{className:"kasa__wrapper fade-in kasa__main-container auth-page",children:(0,c.jsxs)("div",{className:"auth-container",children:[(0,c.jsx)("h1",{children:"Connexion"}),(0,c.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),m("");try{const s=await fetch("".concat("https://kasa-backend.onrender.com/api","/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:a})}),n=await s.json();if(!s.ok)throw new Error(n.message||"Failed to login");u(n.token,n.userName),h("/")}catch(n){m(n.message)}},className:"auth-form",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"email",children:"Adresse e-mail"}),(0,c.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>s(e.target.value),required:!0})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"password",children:"Mot de passe"}),(0,c.jsx)("input",{type:"password",id:"password",value:a,onChange:e=>l(e.target.value),required:!0})]}),d&&(0,c.jsx)("p",{className:"error-message",children:d}),(0,c.jsx)("button",{type:"submit",className:"auth-button",children:"Se connecter"})]}),(0,c.jsxs)("p",{className:"auth-link",children:["Vous n'avez pas de compte ? ",(0,c.jsx)(r.N_,{to:"/signup",children:"Inscrivez-vous"})]})]})})]})}}}]);
//# sourceMappingURL=490.73dea2f4.chunk.js.map