"use strict";(self.webpackChunkkasa=self.webpackChunkkasa||[]).push([[124],{1358:(e,t,a)=>{a.d(t,{A:()=>v});var r=a(5043);const n=a.p+"static/media/homeBanner.024f945a990ae17b81b7.png",s=a.p+"static/media/homeBanner-mobile.ee0895c78898c22761ef.png",i=a.p+"static/media/aboutBanner.cc7a05da2ad0e783537a.png",o=a.p+"static/media/aboutBanner-mobile.66d69f541d29d4a55d43.png";var l,c;const d=["title","titleId"];function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},u.apply(null,arguments)}function h(e,t){let{title:a,titleId:n}=e,s=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,d);return r.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t,"aria-labelledby":n},s),a?r.createElement("title",{id:n},a):null,l||(l=r.createElement("circle",{cx:11,cy:11,r:8})),c||(c=r.createElement("line",{x1:21,y1:21,x2:16.65,y2:16.65})))}const m=r.forwardRef(h);a.p;var p=a(579);const g=e=>{let{onSearch:t}=e;const[a,n]=(0,r.useState)("");return(0,p.jsxs)("div",{className:"search-bar",children:[(0,p.jsx)(m,{className:"search-bar__icon"}),(0,p.jsx)("input",{type:"text",className:"search-bar__input",placeholder:"Rechercher une location...",value:a,onChange:e=>{const{value:a}=e.target;n(a),t(a)}}),a&&(0,p.jsx)("button",{type:"button",className:"search-bar__clear-button",onClick:()=>{n(""),t("")},children:"\xd7"})]})},v=e=>{let{banner:t,title:a,onSearch:r}=e;const l="homeBanner"===t?n:i,c="homeBanner"===t?s:o;return"homeBanner"===t?(0,p.jsxs)("div",{className:"banner -hero",children:[(0,p.jsx)("img",{className:"banner__image",src:l,srcSet:"".concat(c," 768w, ").concat(l," 1280w"),sizes:"(max-width: 768px) 100vw, 1280px",alt:"Int\xe9rieur d'un appartement lumineux"}),(0,p.jsx)("div",{className:"banner__mask"}),(0,p.jsxs)("div",{className:"hero-content",children:[(0,p.jsx)("h1",{children:"Chez vous, partout et ailleurs"}),(0,p.jsx)("p",{children:"D\xe9couvrez plus de 500 logements de qualit\xe9 v\xe9rifi\xe9s"}),(0,p.jsx)(g,{onSearch:r}),(0,p.jsx)("div",{className:"trust-indicators",children:"\u2b50 4.8/5 \u2022 \ud83c\udfe0 500+ logements \u2022 \u2705 100% v\xe9rifi\xe9s"})]})]}):(0,p.jsxs)("div",{className:"banner",children:[(0,p.jsx)("img",{className:"banner__image",src:l,srcSet:"".concat(c," 768w, ").concat(l," 1280w"),sizes:"(max-width: 768px) 100vw, 1280px",alt:"Banni\xe8re de Kasa"}),(0,p.jsx)("h1",{className:"banner__text",children:a})]})}},1541:(e,t,a)=>{a.d(t,{A:()=>s});a(5043);var r=a(9367),n=a(579);const s=e=>{let{title:t,description:a,keywords:s,children:i}=e;return(0,n.jsxs)(r.mg,{children:[(0,n.jsx)("title",{children:t?"".concat(t," | Kasa"):"Kasa - Trouvez le logement de vos r\xeaves"}),(0,n.jsx)("meta",{name:"description",content:a||"D\xe9couvrez des milliers de logements uniques pour votre prochain voyage. Kasa vous met en relation avec des h\xf4tes de confiance."}),s&&(0,n.jsx)("meta",{name:"keywords",content:s}),i]})}},4887:(e,t,a)=>{a.d(t,{A:()=>n});a(5043);var r=a(579);const n=e=>{let{tags:t=[],reviews:a=[],host:n={name:"H\xf4te inconnu",picture:""},title:s,location:i,id:o,onBooking:l,titleAs:c="h3",price:d}=e;return(0,r.jsx)("div",{className:"houseCard",children:(0,r.jsxs)("div",{children:[(0,r.jsx)(c,{className:"houseCard__title",children:s}),(0,r.jsx)("p",{className:"houseCard__location",children:i}),d&&(0,r.jsxs)("p",{className:"houseCard__price",children:[d,"\u20ac / nuit"]}),(0,r.jsx)("div",{className:"houseCard__tags",children:t.map(e=>(0,r.jsx)("p",{className:"houseCard__tag",children:e},e))})]})},o)}},5339:(e,t,a)=>{a.r(t),a.d(t,{default:()=>O});var r=a(5043),n=a(1541),s=a(1358),i=a(8128),o=a(579);const l=e=>{let{onFilterChange:t,allTags:a}=e;const[n,s]=(0,r.useState)(500),[i,l]=(0,r.useState)("");return(0,r.useEffect)(()=>{t({maxPrice:n,tag:i})},[n,i,t]),(0,o.jsxs)("div",{className:"filter-bar",children:[(0,o.jsxs)("div",{className:"filter-bar__group",children:[(0,o.jsxs)("label",{htmlFor:"price-filter",children:["Prix maximum : ",(0,o.jsxs)("span",{children:[n,"\u20ac"]})]}),(0,o.jsx)("input",{type:"range",id:"price-filter",min:"50",max:"500",step:"10",value:n,onChange:e=>s(Number(e.target.value)),className:"filter-bar__slider"})]}),(0,o.jsxs)("div",{className:"filter-bar__group",children:[(0,o.jsx)("label",{children:"Type de logement :"}),(0,o.jsxs)("div",{className:"filter-bar__tags",children:[(0,o.jsx)("button",{onClick:()=>l(""),className:"filter-bar__tag ".concat(""===i?"-active":""),children:"Tous"}),a.map(e=>(0,o.jsx)("button",{onClick:()=>l(e),className:"filter-bar__tag ".concat(i===e?"-active":""),children:e},e))]})]})]})};const c=function(e,t){const[a,n]=(0,r.useState)(e);return(0,r.useEffect)(()=>{const a=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(a)}},[e,t]),a},d=()=>{const[e,t]=(0,r.useState)(!1),a=()=>{window.pageYOffset>300?t(!0):t(!1)};return(0,r.useEffect)(()=>(window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)}),[]),(0,o.jsx)("div",{className:"back-to-top",children:e&&(0,o.jsx)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"back-to-top__button","aria-label":"Retour en haut",children:(0,o.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M12 8L6 14L7.41 15.41L12 10.83L16.59 15.41L18 14L12 8Z",fill:"white"})})})})};var u=a(3216),h=a(5187);const m=()=>{const{user:e}=(0,h.As)(),t=(0,u.Zp)();return e&&"host"===e.role?null:(0,o.jsxs)("div",{className:"host-cta-content",children:[(0,o.jsx)("h2",{children:"Pr\xeat \xe0 vous lancer ?"}),(0,o.jsx)("p",{children:"Devenez h\xf4te sur Kasa et commencez \xe0 gagner un revenu compl\xe9mentaire en toute simplicit\xe9."}),(0,o.jsx)("button",{onClick:()=>{e?t("/become-a-host/onboarding"):t("/login",{state:{from:"/become-a-host/onboarding"}})},className:"host-cta-button",children:"Commencer"})]})};var p=a(5475);const g=e=>{let{article:t}=e;return(0,o.jsxs)("div",{className:"featured-blog-card",children:[(0,o.jsx)("img",{src:t.imageUrl,alt:t.title,className:"featured-blog-card__image"}),(0,o.jsxs)("div",{className:"featured-blog-card__content",children:[(0,o.jsx)("h3",{children:t.title}),(0,o.jsx)("p",{children:t.excerpt}),(0,o.jsx)(p.N_,{to:"/blog/".concat(t.id),className:"featured-blog-card__link",children:"Lire la suite"})]})]})},v=e=>{let{featuredArticle:t}=e;return(0,o.jsx)("section",{className:"home-highlights kasa__wrapper",children:(0,o.jsxs)("div",{className:"home-highlights__grid",children:[(0,o.jsx)("div",{className:"home-highlights__cta-container",children:(0,o.jsx)(m,{})}),(0,o.jsx)("div",{className:"home-highlights__blog-container",children:(0,o.jsx)(g,{article:t})})]})})};var f=a(9379),x=a(9896),j=a(9419),b=a(9349),w=a(6036),_=a(3318),N=a(8223),y=a(228),k=a.n(y),C=(a(6433),a(9573),a(4887));const S=e=>{let{points:t}=e;const a=(0,x.ko)();return(0,r.useEffect)(()=>{if(t&&t.length>0){const e=k().latLngBounds(t);a.fitBounds(e,{padding:[50,50]})}},[t,a]),null},A=e=>{let{logements:t}=e;const a=(0,u.Zp)();if(!t||0===t.length)return(0,o.jsx)("div",{children:"Aucun logement \xe0 afficher sur la carte."});const r=e=>{if(e.coordinates&&e.coordinates.latitude)return[e.coordinates.latitude,e.coordinates.longitude];const t=e.location.toLowerCase();return t.includes("paris")?[48.8566,2.3522]:t.includes("lyon")?[45.764,4.8357]:t.includes("marseille")?[43.2965,5.3698]:t.includes("lille")?[50.6292,3.0573]:null},n=t.map(e=>(0,f.A)((0,f.A)({},e),{},{position:r(e)})).filter(e=>null!==e.position),s=n.map(e=>e.position);return(0,o.jsxs)(j.W,{center:[46.603354,1.888334],zoom:6,scrollWheelZoom:!1,style:{height:"400px",width:"100%"},children:[(0,o.jsx)(S,{points:s}),(0,o.jsx)(b.e,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),(0,o.jsx)(N.A,{zoomToBoundsOnClick:!0,showCoverageOnHover:!0,spiderfyOnMaxZoom:!0,children:n.map(e=>{const t=e.price||"N/A";return(0,o.jsx)(w.p,{position:e.position,icon:k().divIcon({html:'<div class="custom-marker"><div class="custom-marker-inner">'.concat(t,"\u20ac</div></div>"),className:"",iconSize:[40,40],iconAnchor:[20,40],popupAnchor:[0,-40]}),children:(0,o.jsx)(_.z,{className:"map-popup",children:(0,o.jsx)("div",{onClick:()=>a("/house/".concat(e.id)),style:{cursor:"pointer"},children:(0,o.jsx)(C.A,{id:e.id,title:e.title,location:e.address||e.location,price:e.price,tags:e.tags,titleAs:"h4"})})})},e.id)})})]})},O=()=>{const[e,t]=(0,r.useState)(""),a=c(e,500),[u,h]=(0,r.useState)([]),[m,p]=(0,r.useState)([]),[g,f]=(0,r.useState)({maxPrice:500,tag:""}),[x,j]=(0,r.useState)(new Set),b=localStorage.getItem("token");(0,r.useEffect)(()=>{fetch("".concat("https://kasa-backend.onrender.com/api","/logements")).then(e=>e.json()).then(e=>{h(e),p(e)}).catch(e=>console.error("Error fetching housing data:",e)),b&&fetch("".concat("https://kasa-backend.onrender.com/api","/me/favorites"),{headers:{Authorization:"Bearer ".concat(b)}}).then(e=>e.json()).then(e=>{Array.isArray(e)&&j(new Set(e.map(e=>e.id)))}).catch(e=>console.error("Error fetching favorites:",e))},[b]),(0,r.useEffect)(()=>{const e=u.filter(e=>{const t=a.toLowerCase(),r=e.title.toLowerCase().includes(t),n=e.location.toLowerCase().includes(t),s=r||n,i=e.price<=g.maxPrice,o=!g.tag||e.tags&&e.tags.includes(g.tag);return s&&i&&o});p(e)},[a,u,g]);const w=[...new Set(u.flatMap(e=>e.tags||[]))];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.A,{}),(0,o.jsxs)("main",{className:"kasa__wrapper fade-in",children:[(0,o.jsx)(s.A,{banner:"homeBanner",onSearch:t}),(0,o.jsx)(l,{onFilterChange:f,allTags:w}),(0,o.jsx)("div",{role:"status","aria-live":"polite",className:"visually-hidden",children:a&&"".concat(m.length," r\xe9sultats trouv\xe9s")}),(0,o.jsxs)("section",{className:"global-map-container",children:[(0,o.jsx)("h2",{className:"global-map-title",children:"D\xe9couvrez nos logements sur la carte"}),(0,o.jsx)(A,{logements:m})]}),(0,o.jsx)(v,{featuredArticle:{id:"pourquoi-investir-immobilier-locatif",title:"Pourquoi investir dans l\u2019immobilier locatif en 2024 ?",excerpt:"D\xe9couvrez les raisons pour lesquelles l\u2019investissement locatif reste une valeur s\xfbre et comment Kasa peut vous accompagner dans votre projet.",imageUrl:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80"}}),(0,o.jsx)(i.A,{filteredData:m,favorites:x,onToggleFavorite:(e,t)=>{const a=new Set(x);t?a.add(e):a.delete(e),j(a)}})]}),(0,o.jsx)(d,{})]})}},8128:(e,t,a)=>{a.d(t,{A:()=>m});var r,n=a(5043),s=a(5475);const i=["title","titleId"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},o.apply(null,arguments)}function l(e,t){let{title:a,titleId:s}=e,l=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,i);return n.createElement("svg",o({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},l),a?n.createElement("title",{id:s},a):null,r||(r=n.createElement("path",{d:"M12.62 20.81C12.28 20.93 11.72 20.93 11.38 20.81C8.48 19.82 2 15.69 2 8.68998C2 5.59998 4.49 3.09998 7.56 3.09998C9.38 3.09998 10.99 3.97998 12 5.33998C13.01 3.97998 14.62 3.09998 16.44 3.09998C19.51 3.09998 22 5.59998 22 8.68998C22 15.69 15.52 19.82 12.62 20.81Z",stroke:"#FFFFFF",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const c=n.forwardRef(l);a.p;var d=a(579);const u=e=>{let{logementId:t,initialIsFavorite:a,onToggle:r}=e;const[s,i]=(0,n.useState)(a);(0,n.useEffect)(()=>{i(a)},[a]);const[o,l]=(0,n.useState)(!1),u=localStorage.getItem("token");return u?(0,d.jsx)("button",{onClick:async e=>{if(e.preventDefault(),o||!u)return;l(!0);const a=s?"DELETE":"POST",n=s?"".concat("https://kasa-backend.onrender.com/api","/me/favorites/").concat(t):"".concat("https://kasa-backend.onrender.com/api","/me/favorites");try{if((await fetch(n,{method:a,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)},body:s?null:JSON.stringify({logementId:t})})).ok){const e=!s;i(e),r&&r(t,e)}else console.error("Failed to update favorite status")}catch(c){console.error("Error updating favorite status:",c)}finally{l(!1)}},className:"favorite-button ".concat(s?"active":""),"aria-label":s?"Remove from favorites":"Add to favorites",disabled:o,children:(0,d.jsx)(c,{})}):null},h=e=>{let{id:t,title:a,cover:r,price:n,isFavorite:i,onToggleFavorite:o}=e;return(0,d.jsxs)(s.N_,{to:"/house/".concat(t),className:"gallery-card",children:[(0,d.jsx)("img",{src:r,alt:a,className:"gallery-card__image",loading:"lazy"}),(0,d.jsx)("div",{className:"gallery-card__overlay"}),(0,d.jsx)(u,{logementId:t,initialIsFavorite:i,onToggle:o}),(0,d.jsxs)("div",{className:"gallery-card__info",children:[(0,d.jsx)("h2",{className:"gallery-card__title",children:a}),n&&(0,d.jsxs)("p",{className:"gallery-card__price",children:[n,"\u20ac / nuit"]})]})]})},m=e=>{let{filteredData:t,favorites:a,onToggleFavorite:r}=e;return(0,d.jsx)("div",{className:"gallery",children:t.length>0?t.map(e=>(0,d.jsx)(h,{id:e.id,cover:e.cover,title:e.title,price:e.price,isFavorite:a.has(e.id),onToggleFavorite:r},e.id)):(0,d.jsx)("p",{className:"gallery__no-results",children:"Aucun logement ne correspond \xe0 votre recherche."})})}}}]);
//# sourceMappingURL=124.f0b95979.chunk.js.map