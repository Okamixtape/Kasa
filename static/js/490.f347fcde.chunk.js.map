{"version":3,"file":"static/js/490.f347fcde.chunk.js","mappings":"iLAMA,MA8EA,EA9EkBA,KACd,MAAOC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,KAC5BC,EAAUC,IAAeF,EAAAA,EAAAA,UAAS,KAClCG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAS,KAC7B,MAAEK,IAAUC,EAAAA,EAAAA,KACZC,GAAWC,EAAAA,EAAAA,MA4BjB,OACIC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACIF,EAAAA,EAAAA,MAACG,EAAAA,GAAM,CAAAD,SAAA,EACHE,EAAAA,EAAAA,KAAA,SAAAF,SAAO,sBACPE,EAAAA,EAAAA,KAAA,QACIC,KAAK,cACLC,QAAQ,iHAGhBF,EAAAA,EAAAA,KAAA,QAAMG,UAAU,uDAAsDL,UAClEF,EAAAA,EAAAA,MAAA,OAAKO,UAAU,iBAAgBL,SAAA,EAC3BE,EAAAA,EAAAA,KAAA,MAAAF,SAAI,eACJF,EAAAA,EAAAA,MAAA,QAAMQ,SAtCDC,UACjBC,EAAMC,iBACNhB,EAAS,IAET,IACgB,MAAMiB,QAAiBC,MAAM,GAADC,OAAIC,0CAA6B,UAAU,CAC/EC,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU,CAAE/B,QAAOG,eAG5B6B,QAAaT,EAASU,OAE5B,IAAKV,EAASW,GACV,MAAM,IAAIC,MAAMH,EAAKI,SAAW,mBAGpC7B,EAAMyB,EAAKK,MAAOL,EAAKM,UACvB7B,EAAS,IACb,CAAE,MAAO8B,GACLjC,EAASiC,EAAIH,QACjB,GAe0ClB,UAAU,YAAWL,SAAA,EAC/CF,EAAAA,EAAAA,MAAA,OAAKO,UAAU,aAAYL,SAAA,EACvBE,EAAAA,EAAAA,KAAA,SAAOyB,QAAQ,QAAO3B,SAAC,oBACvBE,EAAAA,EAAAA,KAAA,SACI0B,KAAK,QACLC,GAAG,QACHC,MAAO3C,EACP4C,SAAWC,GAAM5C,EAAS4C,EAAEC,OAAOH,OACnCI,UAAQ,QAGhBpC,EAAAA,EAAAA,MAAA,OAAKO,UAAU,aAAYL,SAAA,EACvBE,EAAAA,EAAAA,KAAA,SAAOyB,QAAQ,WAAU3B,SAAC,kBAC1BE,EAAAA,EAAAA,KAAA,SACI0B,KAAK,WACLC,GAAG,WACHC,MAAOxC,EACPyC,SAAWC,GAAMzC,EAAYyC,EAAEC,OAAOH,OACtCI,UAAQ,OAGf1C,IAASU,EAAAA,EAAAA,KAAA,KAAGG,UAAU,gBAAeL,SAAER,KACxCU,EAAAA,EAAAA,KAAA,UAAQ0B,KAAK,SAASvB,UAAU,cAAaL,SAAC,qBAElDF,EAAAA,EAAAA,MAAA,KAAGO,UAAU,YAAWL,SAAA,CAAC,gCACOE,EAAAA,EAAAA,KAACiC,EAAAA,GAAI,CAACC,GAAG,UAASpC,SAAC,8B","sources":["pages/LoginPage/index.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { Helmet } from 'react-helmet-async';\nimport { useAuth } from '../../context/AuthContext';\n\n\nconst LoginPage = () => {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n    const { login } = useAuth();\n    const navigate = useNavigate();\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        setError('');\n\n        try {\n                        const response = await fetch(`${process.env.REACT_APP_API_URL}/login`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({ email, password }),\n            });\n\n            const data = await response.json();\n\n            if (!response.ok) {\n                throw new Error(data.message || 'Failed to login');\n            }\n\n            login(data.token, data.userName);\n            navigate('/');\n        } catch (err) {\n            setError(err.message);\n        }\n    };\n\n    return (\n        <>\n            <Helmet>\n                <title>Connexion - Kasa</title>\n                <meta\n                    name=\"description\"\n                    content=\"Connectez-vous à votre compte Kasa pour accéder à vos réservations et gérer votre profil.\"\n                />\n            </Helmet>\n            <main className=\"kasa__wrapper fade-in kasa__main-container auth-page\">\n                <div className=\"auth-container\">\n                    <h1>Connexion</h1>\n                    <form onSubmit={handleSubmit} className=\"auth-form\">\n                        <div className=\"form-group\">\n                            <label htmlFor=\"email\">Adresse e-mail</label>\n                            <input\n                                type=\"email\"\n                                id=\"email\"\n                                value={email}\n                                onChange={(e) => setEmail(e.target.value)}\n                                required\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"password\">Mot de passe</label>\n                            <input\n                                type=\"password\"\n                                id=\"password\"\n                                value={password}\n                                onChange={(e) => setPassword(e.target.value)}\n                                required\n                            />\n                        </div>\n                        {error && <p className=\"error-message\">{error}</p>}\n                        <button type=\"submit\" className=\"auth-button\">Se connecter</button>\n                    </form>\n                    <p className=\"auth-link\">\n                        Vous n'avez pas de compte ? <Link to=\"/signup\">Inscrivez-vous</Link>\n                    </p>\n                </div>\n            </main>\n        </>\n    );\n};\n\nexport default LoginPage;\n"],"names":["LoginPage","email","setEmail","useState","password","setPassword","error","setError","login","useAuth","navigate","useNavigate","_jsxs","_Fragment","children","Helmet","_jsx","name","content","className","onSubmit","async","event","preventDefault","response","fetch","concat","process","method","headers","body","JSON","stringify","data","json","ok","Error","message","token","userName","err","htmlFor","type","id","value","onChange","e","target","required","Link","to"],"sourceRoot":""}