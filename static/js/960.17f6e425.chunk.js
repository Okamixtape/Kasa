"use strict";(self.webpackChunkkasa=self.webpackChunkkasa||[]).push([[960],{1423:(e,t,a)=>{a.r(t),a.d(t,{default:()=>z});var r,s,n=a(5043),i=a(1541),o=a(2592),l=a(8128);const c=["title","titleId"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},d.apply(null,arguments)}function u(e,t){let{title:a,titleId:i}=e,o=function(e,t){if(null==e)return{};var a,r,s=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}(e,c);return n.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t,"aria-labelledby":i},o),a?n.createElement("title",{id:i},a):null,r||(r=n.createElement("circle",{cx:11,cy:11,r:8})),s||(s=n.createElement("line",{x1:21,y1:21,x2:16.65,y2:16.65})))}const h=n.forwardRef(u);a.p;var m=a(579);const p=e=>{let{onFilterChange:t,allTags:a}=e;const[r,s]=(0,n.useState)(""),[i,o]=(0,n.useState)(500),[l,c]=(0,n.useState)("");(0,n.useEffect)(()=>{t({searchTerm:r,maxPrice:i,tag:l})},[r,i,l,t]);return(0,m.jsxs)("div",{className:"search-form-container",children:[(0,m.jsxs)("div",{className:"search-form__main-filters",children:[(0,m.jsxs)("div",{className:"search-bar",children:[(0,m.jsx)(h,{className:"search-bar__icon"}),(0,m.jsx)("input",{type:"text",className:"search-bar__input",placeholder:"Rechercher une location...",value:r,onChange:e=>s(e.target.value)}),r&&(0,m.jsx)("button",{type:"button",className:"search-bar__clear-button",onClick:()=>{s("")},children:"\xd7"})]}),(0,m.jsxs)("div",{className:"filter-group",children:[(0,m.jsxs)("label",{htmlFor:"price-filter",children:["Prix maximum : ",(0,m.jsxs)("span",{children:[i,"\u20ac"]})]}),(0,m.jsx)("input",{type:"range",id:"price-filter",min:"50",max:"500",step:"10",value:i,onChange:e=>o(Number(e.target.value)),className:"filter-slider"})]})]}),(0,m.jsxs)("div",{className:"filter-group",children:[(0,m.jsx)("label",{children:"Type de logement :"}),(0,m.jsxs)("div",{className:"filter-tags",children:[(0,m.jsx)("button",{onClick:()=>c(""),className:"filter-tag ".concat(""===l?"-active":""),children:"Tous"}),a.map(e=>(0,m.jsx)("button",{onClick:()=>c(e),className:"filter-tag ".concat(l===e?"-active":""),children:e},e))]})]})]})};const g=function(e,t){const[a,r]=(0,n.useState)(e);return(0,n.useEffect)(()=>{const a=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(a)}},[e,t]),a},f=()=>{const[e,t]=(0,n.useState)(!1),a=()=>{window.pageYOffset>300?t(!0):t(!1)};return(0,n.useEffect)(()=>(window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)}),[]),(0,m.jsx)("div",{className:"back-to-top",children:e&&(0,m.jsx)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"back-to-top__button","aria-label":"Retour en haut",children:(0,m.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)("path",{d:"M12 8L6 14L7.41 15.41L12 10.83L16.59 15.41L18 14L12 8Z",fill:"white"})})})})};var v=a(3216),x=a(5187);const j=()=>{const{user:e}=(0,x.As)(),t=(0,v.Zp)();return e&&"host"===e.role?null:(0,m.jsxs)("div",{className:"host-cta-content",children:[(0,m.jsx)("h2",{children:"Pr\xeat \xe0 vous lancer ?"}),(0,m.jsx)("p",{children:"Devenez h\xf4te sur Kasa et commencez \xe0 gagner un revenu compl\xe9mentaire en toute simplicit\xe9."}),(0,m.jsx)("button",{onClick:()=>{e?t("/become-a-host/onboarding"):t("/login",{state:{from:"/become-a-host/onboarding"}})},className:"host-cta-button",children:"Commencer"})]})};var b=a(5475);const _=e=>{let{article:t}=e;return(0,m.jsxs)("div",{className:"featured-blog-card",children:[(0,m.jsx)("img",{src:t.imageUrl,alt:t.title,className:"featured-blog-card__image"}),(0,m.jsxs)("div",{className:"featured-blog-card__content",children:[(0,m.jsx)("h3",{children:t.title}),(0,m.jsx)("p",{children:t.excerpt}),(0,m.jsx)(b.N_,{to:"/blog/".concat(t.id),className:"featured-blog-card__link",children:"Lire la suite"})]})]})},w=e=>{let{featuredArticle:t}=e;return(0,m.jsx)("section",{className:"home-highlights kasa__wrapper",children:(0,m.jsxs)("div",{className:"home-highlights__grid",children:[(0,m.jsx)("div",{className:"home-highlights__cta-container",children:(0,m.jsx)(j,{})}),(0,m.jsx)("div",{className:"home-highlights__blog-container",children:(0,m.jsx)(_,{article:t})})]})})};var N=a(9379),y=a(9896),k=a(9419),C=a(9349),S=a(6036),O=a(3318),A=a(8223),E=a(228),T=a.n(E),L=(a(6433),a(9573),a(6467),a(4887));const B=e=>{let{points:t}=e;const a=(0,y.ko)();return(0,n.useEffect)(()=>{if(t&&t.length>0){const e=T().latLngBounds(t);a.fitBounds(e,{padding:[50,50]})}},[t,a]),null},F=e=>{let{logements:t}=e;const a=(0,v.Zp)();if(!t||0===t.length)return(0,m.jsx)("div",{children:"Aucun logement \xe0 afficher sur la carte."});const r=e=>{if(e.coordinates&&e.coordinates.latitude)return[e.coordinates.latitude,e.coordinates.longitude];const t=e.location.toLowerCase();return t.includes("paris")?[48.8566,2.3522]:t.includes("lyon")?[45.764,4.8357]:t.includes("marseille")?[43.2965,5.3698]:t.includes("lille")?[50.6292,3.0573]:null},s=t.map(e=>(0,N.A)((0,N.A)({},e),{},{position:r(e)})).filter(e=>null!==e.position),n=s.map(e=>e.position);return(0,m.jsxs)(k.W,{center:[46.603354,1.888334],zoom:6,scrollWheelZoom:!1,style:{height:"400px",width:"100%"},children:[(0,m.jsx)(B,{points:n}),(0,m.jsx)(C.e,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),(0,m.jsx)(A.A,{zoomToBoundsOnClick:!0,showCoverageOnHover:!0,spiderfyOnMaxZoom:!0,children:s.map(e=>{const t=T().divIcon({className:"price-marker",html:"<span>".concat(e.price,"\u20ac</span>"),iconSize:null,popupAnchor:[0,-20],iconAnchor:[0,0]});return(0,m.jsx)(S.p,{position:e.position,icon:t,children:(0,m.jsx)(O.z,{className:"map-popup",children:(0,m.jsx)("div",{onClick:()=>a("/house/".concat(e.id)),style:{cursor:"pointer"},children:(0,m.jsx)(L.A,{id:e.id,title:e.title,location:e.address||e.location,price:e.price,tags:e.tags,titleAs:"h4"})})})},e.id)})})]})},z=()=>{const[e,t]=(0,n.useState)([]),[a,r]=(0,n.useState)([]),[s,c]=(0,n.useState)({searchTerm:"",maxPrice:500,tag:""}),d=g(s.searchTerm,500),[u,h]=(0,n.useState)(new Set),v=localStorage.getItem("token");(0,n.useEffect)(()=>{fetch("".concat("https://kasa-backend.onrender.com/api","/logements")).then(e=>e.json()).then(e=>{t(e),r(e)}).catch(e=>console.error("Error fetching housing data:",e)),v&&fetch("".concat("https://kasa-backend.onrender.com/api","/me/favorites"),{headers:{Authorization:"Bearer ".concat(v)}}).then(e=>e.json()).then(e=>{Array.isArray(e)&&h(new Set(e.map(e=>e.id)))}).catch(e=>console.error("Error fetching favorites:",e))},[v]),(0,n.useEffect)(()=>{const t=e.filter(e=>{const t=s.searchTerm.toLowerCase(),a=e.title.toLowerCase().includes(t),r=e.location.toLowerCase().includes(t),n=a||r,i=e.price<=s.maxPrice,o=!s.tag||e.tags&&e.tags.includes(s.tag);return n&&i&&o});r(t)},[s,e]);const x=[...new Set(e.flatMap(e=>e.tags||[]))];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.A,{}),(0,m.jsxs)("main",{className:"kasa__wrapper fade-in",children:[(0,m.jsx)(o.A,{banner:"homeBanner"}),(0,m.jsx)(p,{onFilterChange:c,allTags:x}),(0,m.jsx)("div",{role:"status","aria-live":"polite",className:"visually-hidden",children:d&&"".concat(a.length," r\xe9sultats trouv\xe9s")}),(0,m.jsxs)("section",{className:"global-map-container",children:[(0,m.jsx)("h2",{className:"global-map-title",children:"D\xe9couvrez nos logements sur la carte"}),(0,m.jsx)(F,{logements:a})]}),(0,m.jsx)(w,{featuredArticle:{id:"pourquoi-investir-immobilier-locatif",title:"Pourquoi investir dans l\u2019immobilier locatif en 2024 ?",excerpt:"D\xe9couvrez les raisons pour lesquelles l\u2019investissement locatif reste une valeur s\xfbre et comment Kasa peut vous accompagner dans votre projet.",imageUrl:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80"}}),(0,m.jsx)(l.A,{filteredData:a,favorites:u,onToggleFavorite:(e,t)=>{const a=new Set(u);t?a.add(e):a.delete(e),h(a)}})]}),(0,m.jsx)(f,{})]})}},1541:(e,t,a)=>{a.d(t,{A:()=>n});a(5043);var r=a(9367),s=a(579);const n=e=>{let{title:t,description:a,keywords:n,children:i}=e;return(0,s.jsxs)(r.mg,{children:[(0,s.jsx)("title",{children:t?"".concat(t," | Kasa"):"Kasa - Trouvez le logement de vos r\xeaves"}),(0,s.jsx)("meta",{name:"description",content:a||"D\xe9couvrez des milliers de logements uniques pour votre prochain voyage. Kasa vous met en relation avec des h\xf4tes de confiance."}),n&&(0,s.jsx)("meta",{name:"keywords",content:n}),i]})}},2592:(e,t,a)=>{a.d(t,{A:()=>l});a(5043);const r=a.p+"static/media/homeBanner.024f945a990ae17b81b7.png",s=a.p+"static/media/homeBanner-mobile.ee0895c78898c22761ef.png",n=a.p+"static/media/aboutBanner.cc7a05da2ad0e783537a.png",i=a.p+"static/media/aboutBanner-mobile.66d69f541d29d4a55d43.png";var o=a(579);const l=e=>{let{banner:t,title:a}=e;const l="homeBanner"===t?r:n,c="homeBanner"===t?s:i;return"homeBanner"===t?(0,o.jsxs)("div",{className:"banner -hero",children:[(0,o.jsx)("img",{className:"banner__image",src:l,srcSet:"".concat(c," 768w, ").concat(l," 1280w"),sizes:"(max-width: 768px) 100vw, 1280px",alt:"Int\xe9rieur d'un appartement lumineux"}),(0,o.jsx)("div",{className:"banner__mask"}),(0,o.jsxs)("div",{className:"hero-content",children:[(0,o.jsx)("h1",{children:"Chez vous, partout et ailleurs"}),(0,o.jsx)("p",{children:"D\xe9couvrez plus de 500 logements de qualit\xe9 v\xe9rifi\xe9s"}),(0,o.jsx)("div",{className:"trust-indicators",children:"\u2b50 4.8/5 \u2022 \ud83c\udfe0 500+ logements \u2022 \u2705 100% v\xe9rifi\xe9s"})]})]}):(0,o.jsxs)("div",{className:"banner",children:[(0,o.jsx)("img",{className:"banner__image",src:l,srcSet:"".concat(c," 768w, ").concat(l," 1280w"),sizes:"(max-width: 768px) 100vw, 1280px",alt:"Banni\xe8re de Kasa"}),(0,o.jsx)("h1",{className:"banner__text",children:a})]})}},4887:(e,t,a)=>{a.d(t,{A:()=>n});a(5043);var r=a(3652),s=a(579);const n=e=>{let{cover:t,tags:a=[],reviews:n=[],host:i={name:"H\xf4te inconnu",picture:""},title:o,location:l,id:c,onBooking:d,titleAs:u="h3",price:h}=e;return(0,s.jsxs)("div",{className:"houseCard",children:[t&&(0,s.jsx)("img",{src:t,alt:o,className:"houseCard__cover"}),!t&&(0,s.jsx)("div",{className:"houseCard__placeholder",children:(0,s.jsx)("img",{src:r,alt:"Kasa Logo",className:"houseCard__placeholder-logo"})}),(0,s.jsxs)("div",{className:"houseCard__content",children:[(0,s.jsx)(u,{className:"houseCard__title",children:o}),(0,s.jsx)("p",{className:"houseCard__location",children:l}),h&&(0,s.jsxs)("p",{className:"houseCard__price",children:[h,"\u20ac / nuit"]}),(0,s.jsx)("div",{className:"houseCard__tags",children:a.map(e=>(0,s.jsx)("p",{className:"houseCard__tag",children:e},e))})]})]},c)}},6467:()=>{},8128:(e,t,a)=>{a.d(t,{A:()=>p});var r,s=a(5043),n=a(5475);const i=["title","titleId"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},o.apply(null,arguments)}function l(e,t){let{title:a,titleId:n}=e,l=function(e,t){if(null==e)return{};var a,r,s=function(e,t){if(null==e)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}(e,i);return s.createElement("svg",o({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},l),a?s.createElement("title",{id:n},a):null,r||(r=s.createElement("path",{d:"M12.62 20.81C12.28 20.93 11.72 20.93 11.38 20.81C8.48 19.82 2 15.69 2 8.68998C2 5.59998 4.49 3.09998 7.56 3.09998C9.38 3.09998 10.99 3.97998 12 5.33998C13.01 3.97998 14.62 3.09998 16.44 3.09998C19.51 3.09998 22 5.59998 22 8.68998C22 15.69 15.52 19.82 12.62 20.81Z",stroke:"#FFFFFF",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const c=s.forwardRef(l);a.p;var d=a(579);const u=e=>{let{logementId:t,initialIsFavorite:a,onToggle:r}=e;const[n,i]=(0,s.useState)(a);(0,s.useEffect)(()=>{i(a)},[a]);const[o,l]=(0,s.useState)(!1),u=localStorage.getItem("token");return u?(0,d.jsx)("button",{onClick:async e=>{if(e.preventDefault(),o||!u)return;l(!0);const a=n?"DELETE":"POST",s=n?"".concat("https://kasa-backend.onrender.com/api","/me/favorites/").concat(t):"".concat("https://kasa-backend.onrender.com/api","/me/favorites");try{if((await fetch(s,{method:a,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)},body:n?null:JSON.stringify({logementId:t})})).ok){const e=!n;i(e),r&&r(t,e)}else console.error("Failed to update favorite status")}catch(c){console.error("Error updating favorite status:",c)}finally{l(!1)}},className:"favorite-button ".concat(n?"active":""),"aria-label":n?"Remove from favorites":"Add to favorites",disabled:o,children:(0,d.jsx)(c,{})}):null};var h=a(3652);const m=e=>{let{id:t,title:a,cover:r,price:i,isFavorite:o,onToggleFavorite:l}=e;const[c,m]=(0,s.useState)(!1);return(0,d.jsxs)(n.N_,{to:"/house/".concat(t),className:"gallery-card",children:[r&&!c?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("img",{src:r,alt:a,className:"gallery-card__image",loading:"lazy",onError:()=>{m(!0)}}),(0,d.jsx)("div",{className:"gallery-card__overlay"})]}):(0,d.jsx)("div",{className:"gallery-card__placeholder",children:(0,d.jsx)("img",{src:h,alt:"Kasa Logo",className:"gallery-card__placeholder-logo"})}),(0,d.jsx)(u,{logementId:t,initialIsFavorite:o,onToggle:l}),(0,d.jsxs)("div",{className:"gallery-card__info",children:[(0,d.jsx)("h2",{className:"gallery-card__title",children:a}),i&&(0,d.jsxs)("p",{className:"gallery-card__price",children:[i,"\u20ac / nuit"]})]})]})},p=e=>{let{filteredData:t,favorites:a,onToggleFavorite:r}=e;return(0,d.jsx)("div",{className:"gallery",children:t.length>0?t.map(e=>(0,d.jsx)(m,{id:e.id,cover:e.cover,title:e.title,price:e.price,isFavorite:a.has(e.id),onToggleFavorite:r},e.id)):(0,d.jsx)("p",{className:"gallery__no-results",children:"Aucun logement ne correspond \xe0 votre recherche."})})}}}]);
//# sourceMappingURL=960.17f6e425.chunk.js.map